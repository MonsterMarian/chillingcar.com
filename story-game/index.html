<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="/story-game/">
    <title>Chronicles of Fate</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,400;0,600;0,700;1,400&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Background Effects -->
    <div class="background-gradient"></div>
    <div class="fog-layer"></div>
    <div class="ember-container" id="emberContainer"></div>
    <div class="stars-container" id="starsContainer"></div>
    
    <!-- Screen Flash Effect -->
    <div class="screen-flash" id="screenFlash"></div>
    
    <!-- Intro Sequence Screen -->
    <div class="screen intro-screen active" id="introScreen">
        <div class="intro-container" id="introContainer">
            <div class="intro-text">
                <div class="intro-welcome" id="welcomeText"></div>
                <div class="slide-from-left" id="questionText"></div>
                <div class="mini-explanation">
                    <div id="explanationText"></div>
                    <div class="fade-in-smaller" id="parenthesisText"></div>
                </div>
                <div class="mini-section">
                    <div class="mini-highlight" id="miniText"></div>
                    <div id="miniWords"></div>
                </div>
                <div class="reason-section">
                    <div id="reasonTitle"></div>
                    <div class="reason-list" id="reasonList"></div>
                </div>
                <div class="continue-section" id="continueSection" style="margin-top: 2rem; text-align: center; opacity: 0;">
                    <button class="continue-button-intro" id="continueButton">OK</button>
                </div>
                <div class="cut-scene" id="cutScene" style="display: none; text-align: center;">
                    <div id="personalReason" style="font-size: 1.3rem; line-height: 1.6; margin-bottom: 1.5rem; opacity: 0;"></div>
                    <div id="toneShiftText" style="font-size: 1.4rem; margin: 1.5rem 0; opacity: 0;"></div>
                    <div id="emojiContainer" style="margin: 2rem 0; opacity: 0; text-align: center;">
                        <img id="emImage" src="em.png" alt="em" style="width: 600px; height: auto; border-radius: 10px; opacity: 0; display: none; margin: 0 auto;">
                    </div>
                    <div id="finalButtonContainer" style="margin-top: 2rem; opacity: 0;">
                        <button class="continue-button-intro" id="finalContinueButton">OK</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Map Screen -->
    <div class="screen map-screen" id="mapScreen">
        <div class="container">
            <div class="map-header">
                <h1 class="map-title">Mapa P≈ô√≠bƒõhu</h1>
                
            </div>
            
            <div class="map-legend">
                <div class="legend-item">
                    <div class="legend-dot main"></div>
                    <span>Hlavn√≠ p≈ô√≠bƒõh</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot bonus"></div>
                    <span>Bonus kapitola</span>
                </div>
            </div>
            
            <div class="map-container">
                <svg class="map-paths" viewBox="0 0 100 100" preserveAspectRatio="none">
                    <!-- Main path -->
                    <path class="map-path" d="M15,50 Q17,35 20,20" stroke="rgba(255,107,53,0.4)" stroke-width="0.5" fill="none"/>
                    <path class="map-path" d="M20,20 L40,20" stroke="rgba(255,107,53,0.4)" stroke-width="0.5" fill="none"/>
                    <path class="map-path" d="M40,20 L60,20" stroke="rgba(255,107,53,0.4)" stroke-width="0.5" fill="none"/>
                    <path class="map-path" d="M60,20 L80,20" stroke="rgba(255,107,53,0.4)" stroke-width="0.5" fill="none"/>
                    <path class="map-path" d="M80,20 Q70,35 50,50" stroke="rgba(255,107,53,0.4)" stroke-width="0.5" fill="none"/>
                    <path class="map-path" d="M50,50 Q50,65 50,80" stroke="rgba(255,107,53,0.4)" stroke-width="0.5" fill="none"/>
                    <!-- Bonus paths -->
                    <path class="map-path bonus-path" d="M20,20 Q30,20 40,20" stroke="rgba(168,85,247,0.4)" stroke-width="0.5" fill="none" stroke-dasharray="4 4"/>
                    <path class="map-path bonus-path" d="M40,20 Q50,20 60,20" stroke="rgba(168,85,247,0.4)" stroke-width="0.5" fill="none" stroke-dasharray="4 4"/>
                    <path class="map-path bonus-path" d="M60,20 Q70,20 80,20" stroke="rgba(168,85,247,0.4)" stroke-width="0.5" fill="none" stroke-dasharray="4 4"/>
                    <path class="map-path bonus-path" d="M40,20 Q35,35 30,50" stroke="rgba(168,85,247,0.4)" stroke-width="0.5" fill="none" stroke-dasharray="4 4"/>
                    <path class="map-path bonus-path" d="M30,50 Q40,50 50,50" stroke="rgba(168,85,247,0.4)" stroke-width="0.5" fill="none" stroke-dasharray="4 4"/>

                </svg>
                
                <div class="map-locations">
                    <!-- Start node -->
                    <div class="location-node completed" data-location="start" style="left: 15%; top: 50%;">
                        <div class="node-glow"></div>
                        <div class="node-icon">üéÆ</div>
                        <div class="node-label">Start</div>
                        <div class="node-status">Dokonƒçeno</div>
                    </div>
                    
                    <!-- Napoleon -->
                    <div class="location-node available" data-location="napoleon" style="left: 20%; top: 20%;">
                        <span class="node-badge main">MAIN</span>
                        <div class="node-glow"></div>
                        <div class="node-icon">ü§™</div>
                        <div class="node-label">Napoleon</div>
                        <div class="node-status">Dostupn√©</div>
                    </div>
                    
                    <!-- Freaky Comix -->
                    <div class="location-node bonus-road locked" data-location="freaky_comix" style="left: 40%; top: 20%;">
                        <span class="node-badge bonus">BONUS</span>
                        <div class="node-glow"></div>
                        <div class="node-icon">üé®</div>
                        <div class="node-label">Freaky Comix</div>
                        <div class="node-status">Zamƒçeno</div>
                    </div>
                    
                    <!-- Jednou vƒõtou -->
                    <div class="location-node locked" data-location="jednou_vetou" style="left: 60%; top: 20%;">
                        <span class="node-badge main">MAIN</span>
                        <div class="node-glow"></div>
                        <div class="node-icon">üí¨</div>
                        <div class="node-label">Jednou vƒõtou</div>
                        <div class="node-status">Zamƒçeno</div>
                    </div>
                    
                    <!-- S√≠tƒõ Video -->
                    <div class="location-node bonus-road locked" data-location="site_video" style="left: 80%; top: 20%;">
                        <span class="node-badge bonus">BONUS</span>
                        <div class="node-glow"></div>
                        <div class="node-icon">üì°</div>
                        <div class="node-label">S√≠tƒõ Video</div>
                        <div class="node-status">Zamƒçeno</div>
                    </div>
                    
                    <!-- Nƒõkter√° proƒç -->
                    <div class="location-node locked" data-location="nektera_proc" style="left: 30%; top: 50%;">
                        <span class="node-badge main">MAIN</span>
                        <div class="node-glow"></div>
                        <div class="node-icon">üî•</div>
                        <div class="node-label">Nƒõkter√° proƒç...</div>
                        <div class="node-status">Zamƒçeno</div>
                    </div>
                    
                    <!-- Pudinkov√Ω p≈ô√≠bƒõh -->
                    <div class="location-node bonus-road locked" data-location="pudinkovy_pribeh" style="left: 50%; top: 50%;">
                        <span class="node-badge bonus">BONUS</span>
                        <div class="node-glow"></div>
                        <div class="node-icon">üçÆ</div>
                        <div class="node-label">Pudinkov√Ω p≈ô√≠bƒõh</div>
                        <div class="node-status">Zamƒçeno</div>
                    </div>
                    

                    
                    <!-- Konec -->
                    <div class="location-node locked" data-location="konec" style="left: 50%; top: 80%;">
                        <span class="node-badge main">MAIN</span>
                        <div class="node-glow"></div>
                        <div class="node-icon">üéâ</div>
                        <div class="node-label">Konec</div>
                        <div class="node-status">Zamƒçeno</div>
                    </div>
                </div>
            </div>
            

            
            <!-- Bottom Navigation Buttons -->
            <div class="map-bottom-buttons" id="mapBottomButtons">
                <button class="nav-button main-button" id="mainRouteButton" style="display: none;">
                    <span class="button-icon">üõ£Ô∏è</span>
                    <span class="button-text">Hlavn√≠ cesta</span>
                </button>
                <button class="nav-button bonus-button" id="bonusRouteButton" style="display: none;">
                    <span class="button-icon">‚ú®</span>
                    <span class="button-text">Bonusov√° cesta</span>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Chapter Screen -->
    <div class="screen chapter-screen" id="chapterScreen">
        <div class="chapter-container" id="chapterContainer">
            <div class="chapter-content" id="chapterContent"></div>
            <div class="chapter-buttons" id="chapterButtons"></div>
        </div>
    </div>

    <script src="intro-sequence.js"></script>
    <script src="chapter-manager.js"></script>
    <script src="game-init.js"></script>
</body>
</html>
